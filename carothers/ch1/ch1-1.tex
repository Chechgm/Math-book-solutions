\subsection{The real numbers}

\begin{exercise}{1}
If $A$ is a nonempty subset of $\R$ that is bounded below, show that $A$ has a greatest lower bound. That is, show that there is a number $m\in\R$ satisfying (i) $m$ is a lower bound for $A$; and (ii) if $x$ is a lower bound for $A$, then $x\leq m$. [Hint: Consider the set $-A=\{-a:a\in A\}$ and show that $m=-\sup(-A)$ works].
\end{exercise}
\begin{proof}
Consider $-A$ as above. Because $A$ is bounded below, then it must be the case $-A$ is bounded above (suppose it is not bounded above, then for all $-k\in\R$, there exists $-a\in -A$ with $-k\leq -a$ but this is the same as $k\geq a$ but this would imply $A$ is not bounded below). Since $A$ is bounded above, then by the Least Upper Bound Axiom, then there exists a number $-m\in\R$ such that for all $-a\in -A$, it holds that $-a\leq -m$ and for all other upper bound $-x\in\R$, $-m<-x$. Multiplying everything by $-1$ we get that $m\leq a$ for all $a\in A$ and for all other bounds $x\in A$, $m\geq x$, as required.
\end{proof}

\begin{exercise}{2}
Let $A$ be a bounded subset of $\R$ containing at least two points. Prove:
\begin{enumerate}
    \item $-\infty<\inf A<\sup A<\infty$.
    \item If $B$ is a nonempty subset of $A$, then $\inf A\leq\inf B\leq\sup B\leq\sup A$.
    \item If $B$ is the set of all upper bounds for $A$, then $B$ is nonempty, bounded below and $\inf B=\sup A$.
\end{enumerate}
\end{exercise}
\begin{proof}
\begin{enumerate}
    \item If $A$ is bounded, by definition $-\infty<\inf A$ and $\sup A<\infty$. To prove that $\inf A<\sup A$ simply take any two points $a,b\in A$ with $a<b$. Since $\inf A\leq x$ for all $x\in A$, then $\inf A<a<b$ likewise, we have $a<b<\sup A$ so that $\inf A<\sup A$.
    \item We have that for all $b\in B$, there exists an $a\in A$ with $a\leq b$, so that any lower bound of $A$ is also a lower bound of $B$. Furthermore, by definition, $\inf A\leq a$ for all $a\in A$ and also all $a\in B$ (because $B\subseteq A$, so that $\inf B$ must be at most as small as $\inf A$, but possibly larger). That is, $\inf A\leq \inf B$. We can prove $\sup B\leq \sup A$ in a similar way. From exercise 1, we know that $\inf B\leq\sup B$, giving us the desired inequality.
    \item Since $A$ is bounded, by the Least Upper Bound axiom it has a supremum so that $B$ is not empty. Furthermore, any $a\in A$ is a lower bound of $B$, as $a\leq b$ for all $b\in B$. 
    
    Now we prove $\inf B=\sup A= s$. Because $B$ is the set of all upper bounds of $A$, then $s\in B$. Furthermore, $a\leq s\leq b$ for any upper bound of $A$, $b\in B$ and for any lower bound of $B$, $a\in A$. In more detail, if $a\leq s$ didn't hold, then $s$ would not be an upper bound of $A$, and if $s\leq b$ didn't hold, then $b$ would be lower upper bound of $A$. But then $s$ fulfills the conditions for $\inf B$, that is: first, it is a lower bound of $B$, and second, for any lower bound $a$, $a\leq s$. As required. 
\end{enumerate}
\end{proof}

\begin{exercise}{3}
Establish the following apparently different (but ``fancier'') characterization of the supremum. Let $A$ be a nonempty subset of $\R$ that is bounded above. Prove that $s=\sup A$ if and only if (i) $s$ is an upper bound for $A$, and (ii) for every $\varepsilon>0$, there is an $a\in A$ such that $a>s-\varepsilon$. State and prove the corresponding result for the infimum of a nonempty subset of $\R$ that is bounded below.
\end{exercise}
\begin{proof}
($\Rightarrow$) We will prove this by contrapositive. Suppose there exists $\varepsilon>0$ such that for all $a\in A$, it holds that $a<s-\varepsilon$, then it does not hold that for all other lower bounds $r$, $s\leq r$, as we can simply set $r=s-\varepsilon$ as a counterexample.

($\Leftarrow$) We will prove this by contrapositive. Suppose there exists an upper bound $r$ such that $r<s$. By the definition of upper bound, it holds that for all $a\in A$, $a<r<s$. But then this implies there exists $\varepsilon=s-r>0$ such that for all $a\in A$, $s-\varepsilon=r>a$, which is precisely the negation of the statement we want to prove, as desired.
\end{proof}

\begin{exercise}{4}
Recall that a sequence $(x_n)$ of real numbers is said to converge to $x\in\R$ if, for every $\varepsilon>0$, there is a positive integer $N$ such that $\lvert x_n-x\rvert<\varepsilon$ whenever $n\geq N$. In this case, we call $x$ the limit of the sequences $(x_n)$ and write $x=\lim_{n\to\infty}x_n$.

Let $A$ be a nonempty subset of $\R$ that is bounded above. Show that there is a sequence $(x_n)$ of elements of $A$ that converges to $\sup A$.
\end{exercise}
\begin{proof}
To prove this, we will explicitly construct the sequence. From exercise 3, we know that if $s=\sup A$, then for all $\varepsilon>0$, we have that there is $a\in A$ with $a>s-\varepsilon$. Fix $\varepsilon=1$, then there exists $a_1\in A$ with $a_1>s-1$. Take $x_1=a_1$, for $x_2$, take $a_2$ so that $a_2>s-1/2$ (which we know exists because the property of $s$ holds for all positive numbers). More generally, for $x_n$, take $a_n\in A$ so that $a_n>s-1/n$. Since $1/n$ converges to $0$ as $n$ goes to infinity, then $a_n$ gets arbitrarily close to $s$, as required.
\end{proof}

\begin{exercise}{6}
Prove that every convergent sequence of real numbers is bounded. Moreover, if $(a_n)$ is convergent, show that $\inf_na_n\leq \lim_{n\to\infty}a_n\leq\sup_na_n$.
\end{exercise}
\begin{proof}
We will prove the first part by contrapositive. Suppose a sequence $a_n$ is not bounded above (without loss of generality), and let $a$ be any candidate limit of the sequence. Since $a_n$ is not bounded, then for all $k\in\R$, there exists a positive integer $N'$, such that $a_{N'}>k$. Notice, however, that this implies that we cannot make the absolute difference $\lvert a_n-a\rvert$ arbitrarily small after a certain positive integer, given that we can always choose $k=\lvert a+\varepsilon\rvert$ for $\varepsilon>0$, so that $\lvert a_{N'}-a\rvert >\lvert \varepsilon\rvert= \varepsilon> 0$. This proves that $a_n$ does not converge, as desired.

For the second part, we will only prove that $\lim_{n\to\infty}a_n\leq\sup_na_n$, as the inequality for $\inf_na_n$ can be proved in a similar way. Suppose $a=\lim_{n\to\infty}a_n> \sup_na_n=s$ and let $a=s+\delta$, then we would have that for any $\varepsilon>0$, there exists a positive integer $N$ with $\lvert a_n-a\rvert <\lvert a_n-s-\delta\rvert< \varepsilon$ for $n>N$. However, this implies that $-\varepsilon< a_n-s-\delta<\varepsilon$, which is the same as $s+\delta-\varepsilon<a_n$, but if we choose $\varepsilon<\delta$, then we have that there exists an element $a_N$ in the sequence for which $a_N>s$. That is, $s$ would not be an upper bound and less so the supremum of $a_n$, giving us a contradiction.
\end{proof}

\begin{exercise}{7}
If $a<b$ then there is also an irrational $x\in\R\setminus\Q$ with $a<x<b$. [Hint: Find an irrational of the form $p\sqrt{2}/q$].
\end{exercise}
\begin{proof}
 We have that because $a<b$, then $a/\sqrt{2}<b/\sqrt{2}$. But by Theorem 1.3, there exists a rational $x$ so that $a/\sqrt{2}<x<b/\sqrt{2}$. Hence $a<x\sqrt{2}<b$, and $x\sqrt{2}$ is an irrational, as desired.
\end{proof}

\begin{exercise}{11}
Fix $a>0$ and let $x_1>\sqrt{a}$. For $n\geq 1$, define 
\[x_{n+1}=\frac{1}{2}\left(x_n+\frac{a}{x_n}\right).\]
Show that $(x_n)$ converges and that $\lim_{n\to\infty}x_n=\sqrt{a}$.
\end{exercise}
\begin{proof}
We will split this proof in 3 parts. First we will prove by induction that the sequence is positive. Then, we will prove, by induction, that $(x_n)$ is decreasing. Finally, we use the result in Theorem 1.4 to conclude that the sequence converges and that the limit is $\sqrt{a}$.

The sequence is positive. As the base case, notice we assume that $x_1>\sqrt{a}$. Suppose that $x_n>0$. We have
\begin{align*}
    x_n >& 0 &&\iff\\
    x_n + \frac{a}{x_n} >& 0 &&\iff\\
    \frac{1}{2}\left(x_n + \frac{a}{x_n}\right) =& x_{n+1} > 0,
\end{align*}
as required.

The sequence is decreasing. Base case. We have, for $\varepsilon>0$,
\begin{align*}
    x_2 =& \frac{1}{2}\left(\sqrt{a}+\varepsilon+\frac{a}{\sqrt{a}+\varepsilon}\right)\\
    =& \frac{1}{2(\sqrt{a}+\varepsilon)}\left((\sqrt{a}+\varepsilon)^2+a\right)\\
    =& \frac{1}{2(\sqrt{a}+\varepsilon)}(a+2\sqrt{a}\varepsilon+\varepsilon^2+a)\\
    =& \frac{1}{2(\sqrt{a}+\varepsilon)}(2a+2\sqrt{a}\varepsilon+\varepsilon^2)\\
    \leq& \frac{1}{2(\sqrt{a}+\varepsilon)}(2a+4\sqrt{2a}\varepsilon+\sqrt{2}\varepsilon^2)\\
    \leq& \frac{1}{2(\sqrt{a}+\varepsilon)}(\sqrt{2}\sqrt{a}+\sqrt{2}\varepsilon)^2\\
    \leq& \sqrt{a}+\varepsilon= x_1.
\end{align*}
Now suppose $x_n\leq x_{n-1}$, which is the same as $1\leq x_{n-1}/x_n$. We will prove that $x_{n+1}/x_n\leq 1$. We have
\begin{align*}
    \frac{x_{n+1}}{x_n} =& \frac{\frac{1}{2}\left(x_n+\frac{a}{x_n}\right)}{\frac{1}{2}\left(x_{n-1}+\frac{a}{x_{n-1}}\right)}\\
    =& \frac{x_n+\frac{a}{x_n}}{x_{n-1}+\frac{a}{x_{n-1}}}\\
    =& \frac{\frac{x_n^2+a}{x_n}}{\frac{x_{n-1}^2+a}{x_{n-1}}}\\
    =& \frac{x_{n-1}(x_n^2+a)}{x_n(x_{n-1}^2+a)}\\
    \leq& \frac{x_n^2+a}{x_{n-1}^2+a}\\
    \leq& \frac{x_n^2+a}{x_n^2+a}\\
    =& 1.
\end{align*}
As required.

The fact that $(x_n)$ is monotone and decreasing allows us to use Theorem 1.4 to confirm that the sequence converges. Let $x$ be the limit of the sequence. Furthermore, using the algebraic limit theorem, we have
\begin{align*}
    \lim x_{n+1} =& \lim \frac{1}{2}\left(x_n+\frac{a}{x_n}\right) &&\iff\\
    x =& \frac{1}{2}\left(\lim x_n+\frac{a}{\lim x_n}\right) &&\iff\\
    x =& \frac{1}{2}\left(x+\frac{a}{x}\right) &&\iff\\
    2x =& \left(\frac{x^2+a}{x}\right) &&\iff\\
    2x^2 =& x^2+a &&\iff\\
    x^2 =& a &&\iff\\
    x =& \pm\sqrt{a}.
\end{align*}
But we concluded above that the sequence is positive, so that $x=\sqrt{a}$.
\end{proof}

\begin{exercise}{13}
Let $a_n\geq 0$ for all $n$, and let $s_n=\sum_{i=1}^na_i$. Show that $(s_n)$ converges if and only if $(s_n)$ is bounded.
\end{exercise}
\begin{proof}
($\Rightarrow$) Suppose $(s_n)$ is not bounded. Because $a_n\leq 0$ for all $n$, then $(s_n)$ is necessarily bounded below, so that for any $k\in\R$, there exists $N\in\N$, so that $s_N\geq k$. Now let $s$ be a candidate limit of $(s_n)$. But then choose $k=s+1$, then for all $n\geq N$, we have that $s_n>s+1$ and we cannot have that this difference is $\varepsilon$.

($\Leftarrow$) Notice that because $a_n\geq 0$, then $(s_n)$ is monotone, as $s_n\leq s_{n+1}$. If we assume $(s_n)$ is bounded, all the hypotheses of Theorem 1.4 are fulfilled, so that $(s_n)$ converges.
\end{proof}

\begin{exercise}{14}
Prove that a convergent sequence is Cauchy, and that any Cauchy sequence is bounded.
\end{exercise}
\begin{proof}
Every convergent sequence is Cauchy. Let $(x_n)$ be a convergent sequence. Fix $\varepsilon/2>0$, then there exists $N\in\N$ such that for every $n\geq N$, it holds that $\lvert x_n-x\rvert<\varepsilon/2$. Now consider $m\geq N$. We have $\lvert x_n-x_m\rvert = \lvert x_n+x-x-x_m\lvert \leq \lvert x_n-x\rvert + \lvert x_m-x\rvert<2\varepsilon/2=\varepsilon$, as required.

Every Cauchy sequence is bounded. Let $(x_n)$ be Cauchy. For the sake of contradiction and without loss of generality, suppose $(x_n)$ is not bounded above, so that for all $k\in\R$, there exists $M$ with $x_M>k$. Then it cannot be the case that $(x_n)$ is Cauchy. To see this, fix $\varepsilon>0$ and let $N\in\N$ be such that for all $n,m\geq N$, we have that $\lvert x_n-x_m\rvert<\varepsilon$. Now let $k=\max\set{x_1,\dots,x_N}$. Finally, since we assumed $(x_n)$ is not bounded, let $M$ be such that $x_M>k+1$, certainly $M>N$, but we have that $\lvert x_N-x_M\rvert>1$ so that the sequence is not Cauchy. Then the contradiction implies that every Cauchy sequence must be bounded.
\end{proof}

\begin{exercise}{15}
Show that a Cauchy sequence with a convergent subsequence actually converges.
\end{exercise}
\begin{proof}
Suppose $(x_n)$ is Cauchy and that there exists a subsequence $(x_{n_{k}})$ that converges to $x$. Then, for $\varepsilon/2>0$, there exists an $K\in\N$ such that $\lvert x_{n_{k}}-x\rvert<\varepsilon/2$ for $k\geq K$. Furthermore, because $(x_n)$ is Cauchy, there exists $N'\in\N$ so that for all $n,m\geq N'$, we have that $\lvert x_n-x_m\rvert<\varepsilon/2$. 

Now let $N=\max\set{N', n_K}$. We have that for all $n,n_k\geq N$, it holds that $\lvert x_n-x\rvert= \lvert x_n-x_{n_k}+x_{n_k}-x\rvert\leq\lvert x_n-x_{n_k}\rvert+\lvert x_{n_k}-x\rvert <\varepsilon/2+\varepsilon/2=\varepsilon$. So that $(x_n)$ converges, as required.
\end{proof}

\begin{exercise}{17}
Given real numbers $a$ and $b$, establish the following formulas: $\lvert a+b\rvert\leq\lvert a\rvert +\lvert b\rvert, \lvert\lvert a\rvert -\lvert b\rvert\rvert \leq\lvert a-b\rvert, \max\{a,b\}=(1/2)(a+b+\lvert a-b\rvert)$, and $\min\{a,b\}=(1/2)(a+b-\lvert a-b\rvert)$.
\end{exercise}
\begin{proof}
\begin{itemize}
    \item $\lvert a+b\rvert\leq\lvert a\rvert +\lvert b\rvert$. We will prove a couple of Lemmas before. 
 
     First $\lvert a\rvert \leq b$ if and only if $-b\leq a\leq b$. ($\Rightarrow$) Suppose $\lvert a\rvert\leq b$. Then $a\leq b$ and $-a\leq b$, that is, $-b\leq a\leq b$, as desired. ($\Leftarrow$) Suppose $-b\leq a\leq b$. Then $a\leq b$ and $-a\leq b$, that is, $\lvert a\rvert\leq b$. 
    
     Second $-\lvert x\rvert\leq x\leq\lvert x\rvert$. If $x>0$, then $\lvert x\rvert =x$, otherwise, $\lvert x\rvert =-x>0$. Hence, $\lvert x\rvert\geq x$. We also have that if $x>0$, then $-\lvert x\rvert<0<x$ and if $x<0$, then $-\lvert x\rvert =-(-x) =x$. Putting everything together, $-\lvert x\rvert\leq x\leq\lvert x\rvert$, as required.
    
     Now for the main result. We have $-\lvert a\rvert\leq a\leq\lvert a\rvert$ and $-\lvert b\rvert\leq b\leq\lvert b\rvert$. Adding these together, we obtain $-(\lvert a\rvert+\lvert b\rvert)\leq a+b\leq\lvert a\rvert+\lvert b\rvert$. By the first Lemma, $\lvert a+b\rvert\leq\lvert a\rvert +\lvert b\rvert$.
     \item $\lvert\lvert a\rvert -\lvert b\rvert\rvert \leq\lvert a-b\rvert$: Using the triangle inequality, we have $\lvert a\rvert = \lvert a+b-b\rvert \leq \lvert a-b\rvert +\lvert b\rvert$, that is, $\lvert a\rvert-\lvert b\rvert\leq \lvert a-b\rvert$. Furthermore, we have that $\lvert b\rvert =\lvert b+a-a\lvert \leq\lvert b-a\rvert+\lvert a\rvert =\lvert a-b\rvert +\lvert a\rvert$. This implies, $\lvert b\rvert -\lvert a\rvert \leq\lvert a-b\rvert$. Then by the first lemma for the proof of the triangle inequality, we have that $\lvert a\rvert -\lvert b\rvert\leq \lvert a-b\rvert$, and $-\lvert a-b\rvert\leq\lvert a\rvert -\lvert b\rvert$ which is the same as $\lvert b\rvert-\lvert a\rvert\leq\lvert a-b\rvert$, so that $\lvert \lvert a\rvert -\lvert b\rvert \rvert \leq \lvert a-b\rvert$, as required.
     \item $\max\set{a,b }=(1/2)(a+b+\lvert a-b\rvert)$: We will split this in cases. Suppose $a>b$, then $a-b>0$ and $\lvert a-b\rvert =a-b$ and $(1/2)(a+b+\lvert a-b\rvert) =(1/2)(a+b+a-b) =(1/2)2a =a =\max\set{a,b}$. Now suppose $b>a$. Then $0>a-b$ and $\lvert a-b\rvert = b-a$. We can reason as before to conclude $(1/2)(a+b+\lvert a-b\rvert =b$, as required.
     \item $\min\set{a,b}=(1/2)(a+b-\lvert a-b\rvert)$. As above we will divide this in two cases. If $a>b$, then $a-b>0$ and $\lvert a-b\rvert =a-b$ so that $(1/2)(a+b-\lvert a-b\rvert) =(1/2)(a+b-a+b) =(1/2)2b =b =\min\set{a,b}$, as required. Reasoning in a similar way, we can conclude that $(1/2)(a+b-\lvert  a-b\rvert) =a =\min\set{a,b}$, whenever $b>a$.
\end{itemize}
\end{proof}

\begin{exercise}{19}
If $0<c<1$, show that $c^n\to 0$; and if $c>0$, show that $c^{1/n}\to 1$. [Hint: Use Bernoulli's inequality for each, once with $c=1/(1+x), x>0$ and once with $c^n=1+x_n$, where $x_n>0$].
\end{exercise}
\begin{proof}
$c^n\to 0$: To prove this, notice we can write $c=1/(1+x)$ where $x>0$ (for a particular $c$, choose $x=(1-c)/c$ and replace in the equation for $c$). Then $c^n= 1/(1+x)^n$. By Bernoulli's inequality, we have that $(1+x)^n\geq 1+nx$, so that $c^n= 1/(1+x)^n\leq 1/(1+nx)\to 0$, since $c>0$, $c^n$ is bounded below by 0 for all $n$, so that $c^n\to 0$, as required.

$c^{1/n}\to 1$: We have $c^{1/n}= 1+x_n$ where $x_n>-1$ for all $n$. Then $(c^{1/n})^n= c= (1+x_n)^n\geq 1+nx_n$, by Bernoulli's inequality. But this implies $(c-1)/n\geq x_n$. However, $x_n\to 0$ since $(c-1)/n\to 0$, and $x_n\geq 0$. This in turn implies that $c^{1/n}= 1+x_n\to 1$, as required.
\end{proof}

\begin{exercise}{21}
Let $p\geq 2$ be a fixed integer, and let $0<x<1$. If $x$ has a finite-length base $p$ decimal expansion, that is, if $x=a_1/p+\dots+a_n/p^n$ with $a_n\neq 0$, prove that $x$ has precisely two base $p$ decimal expansions. Otherwise, show that the base $p$ decimal expansion for $x$ is unique. Characterize the numbers $0<x<1$ that have repeating base $p$ decimal expansions. How about eventually repeating?
\end{exercise}
\begin{proof}
Suppose $x$ is terminating. By hypothesis, $x$ has a finite-length base $p$-decimal expansion. To see it has a second expansion, consider the expansion given by $x=a_1/p+\dots+(a_n-1)/p^n+\sum_{i=n}^\infty (p-1)/p^i$. We have that 
\begin{align*}
    &\absoluteValue{a_1/p+\dots+(a_n-1)/p^n+\sum_{i=n}^\infty (p-1)/p^i - \left(a_1/p+\dots+a_n/p^n\right)} =\\
    &\absoluteValue{-1/p^n+\sum_{i=n}^\infty (p-1)/p^i}= \absoluteValue{0},
\end{align*}
as required. If we choose any other representation mod $p$ of $x$, we can choose an $\varepsilon$ so that the difference is greater than such $\varepsilon$, the same argument works for any $x$ that is non-terminating.

The numbers $0<x<1$ that are eventually repeating are the rationals.
\end{proof}

\begin{exercise}{22}
Show that $\inf_na_n\leq \lim\inf_{n\to\infty}a_n\leq \lim\sup_{n\to\infty}a_n\leq \sup_na_n$.
\end{exercise}
\begin{proof}
Notice that $\inf_na_n = \inf\set{a_1,a_2,\dots}$ whereas \\
$\lim\inf_{n\to\infty}a_n=\sup_{n\geq 1}(\inf\set{a_n,a_{n+1},\dots})$ so that
\\
$\inf\set{a_1,a_2,\dots}\leq\lim\inf_{n\to\infty}a_n$ since the supremum of a set is an greater than or equal to each of its elements. We can reason in an analogous way to conclude that $\lim\sup_{n\to\infty}a_n\leq \sup_na_n$. 

By exercise 3, for any $m>n$, we have 
\[
\inf\set{a_n,a_{n+1},\dots}
\leq\inf\set{a_m,a_{m+1},\dots} \leq\sup\set{a_m,a_{m+1},\dots} \leq\sup\set{a_n,a_{n+1},\dots}
\]
which implies that the set $\set{\inf\set{a_n,a_{n+1},\dots}:n\in\N}$ is upper bounded by all elements in $\set{\sup\set{a_n,a_{n+1},\dots}:n\in\N}$.

We can take the limits of the second and third elements of the above inequality as $m\to\infty$ to conclude that $\lim\inf_{n\to\infty}a_n\leq\lim\sup_{n\to\infty}a_n$, completing the desired proof.


% so that $\lim\inf_{n\to\infty}a_n=\sup_{n\geq 1}(\inf\set{a_n,a_{n+1}})\leq s$ for all $s\in\set{\sup\set{a_n,a_{n+1},\dots}:n\in\N}$; if this wasn't the case for $s'\in\set{\sup\set{a_n,a_{n+1},\dots}:n\in\N}$, then $\lim\inf_{n\to\infty}a_n$ would not be the supremum of the set of infima, given that there would be a lower upper bound. Likewise, $b\leq\inf_{n\geq 1}(\sup\set{a_n,a_{n+1},\dots})=\lim\sup_{n\to\infty}a_n$ for all $b\in\set{\inf\set{a_n,a_{n+1},\dots}:n\in\N}$. 

% To finish the proof, suppose, for the sake of contradiction, that
% \\
% $m=\lim\inf_{n\to\infty}a_n>\lim\sup_{n\to\infty}a_n$ giving us $\lim\inf_{n\to\infty}a_n-\lim\sup_{n\to\infty}a_n=\epsilon>0$. We have that for all $\varepsilon>0$, there exists $b\in\set{\inf\set{a_n,a_{n+1},\dots}:n\in\N}$ so that $m-\varepsilon\leq b$, if we choose $\varepsilon=\epsilon/2$, then we have found a smaller lower bound of $\set{\sup\set{a_n,a_{n+1},\dots}:n\in\N}$ (because the set of infima is a set of lower bounds of the set of suprema) and hence $\lim\sup_{n\to\infty}a_n$ is not the infimum of $\set{\sup\set{a_n,a_{n+1},\dots}:n\in\N}$, giving us a contradiction, so that
% \\
% $\lim\inf_{n\to\infty}a_n\leq \lim\sup_{n\to\infty}a_n$.
\end{proof}

\begin{exercise}{24}
Show that $\lim\sup_{n\to\infty}(-a_n)=-\lim\inf_{n\to\infty}a_n$.
\end{exercise}
\begin{proof}
We have that
\begin{align*}
    \lim\sup_{n\to\infty}(-a_n) &= \sup_{n\geq 1}(\inf\set{-a_n,-a_{n+1},\dots})\\
    &= \sup_{n\geq 1}(-\sup\set{a_n,a_{n+1},\dots})\\
    &= -\inf_{n\geq 1}(\sup\set{a_n,a_{n+1},\dots})\\
    &= -\lim\inf_{n\to\infty}a_n,
\end{align*}
as required.
\end{proof}

\begin{exercise}{25}
If $\lim\sup_{n\to\infty}a_n=-\infty$, show that $(a_n)$ diverges to $-\infty$. If $\lim\sup_{n\to\infty}a_n=+\infty$, show that $(a_n)$ has a subsequence that diverges to $+\infty$. What happens if $\lim\inf_{n\to\infty}a_n=\pm\infty$?
\end{exercise}
\begin{proof}
Since $\lim\sup_{n\to\infty}(a_n) = \sup_{n\geq 1}(\inf\set{a_n,a_{n+1},\dots})$, then if\\ $\lim\sup_{n\to\infty}(a_n)=-\infty$, it must be the case that $\inf\set{a_n,a_{n+1},\dots}=-\infty$ for all $n$, as otherwise, $\sup$ of that would be different from $-\infty$. However, if $\inf\set{a_n,a_{n+1},\dots}=-\infty$ for all $n$, then $(a_n)$ is not bounded below, so that it diverges to $-\infty$.

If $\lim\sup_{n\to\infty}(a_n)= \sup_{n\geq 1}(\inf\set{a_n,a_{n+1},\dots})= \infty$, it must be the case that the set $\set{\inf\set{a_n,a_{n+1},\dots}:n\geq 1}$ is not bounded above; that is, we can find a subsequence $n_k$ such that $(a_{n_k})$ diverges, as otherwise the set would be bounded above. 

We can reason in an analogous way to make the (swapped) conclusions for $\lim\inf_{n\to\infty}a_n=\pm\infty$.
\end{proof}

\begin{exercise}{26}
Prove the characterisation of $\lim\sup$ given above. That is, given a bounded sequence $(a_n)$, show that the number $M=\lim\sup_{n\to\infty}a_n$ satisfies ($\ast$) and, conversely, that any number $M$ satisfying ($\ast$) must equal $\lim\sup_{n\to\infty}a_n$. State and prove the corresponding result for $m=\lim\inf_{n\to\infty}a_n$.
\end{exercise}
\begin{proof}
For reference, $(\ast)$ is: for every $\varepsilon>0$, we have $a_n<M+\varepsilon$ for all but finitely many $n$, and $M-\varepsilon<a_n$ for infinitely many $n$.

($\Rightarrow$) Suppose that for every $\varepsilon>0$, there is an integer $N\geq 1$ such that $M-\varepsilon<\sup\set{a_k:k\geq n}<M+\varepsilon$ for all $n\geq N$. Then for $n\geq N$, $a_n<\sup\set{a_k:k\geq n}<M+\varepsilon$ so that the inequality holds for all but finitely many $n$. 

Likewise, if we can choose $N$ so that $M-\varepsilon<\sup\set{a_k:k\geq n}$ for all $n\geq N$, that implies that for all $n$, there exists at least one $a_i$ so that $M-\varepsilon<a_i\leq\sup\set{a_k:k\geq n}$ (by the $\epsilon$ definition of the supremum). Since this is true for all $n$, then the inequality holds for infinitely many $i$.

($\Leftarrow$) Suppose $(\ast)$. That is, for every $\varepsilon>0$, we have $a_n<M+\varepsilon$ for all but finitely many $n$, and $M-\varepsilon<a_n$ for infinitely many $n$. Since $a_n<M+\varepsilon$, for all but finitely many $n$, we can choose $N$ so that for all $n\geq N$, $a_n<M+\varepsilon$, and hence $\sup\set{a_k:k\geq n}<M+\varepsilon$. 

Likewise, if $M-\varepsilon<a_n$ for infinitely many $n$, then for all $n$, we have that $M-\varepsilon<a_n\leq\sup\set{a_k:k\geq n}$, as desired.
\end{proof}

\begin{exercise}{27}
Prove that every sequence of real numbers $(a_n)$ has a subsequence $(a_{n_k})$ that converges to $\lim\sup_{n\to\infty}a_n$. [Hint: if $M=\lim\sup_{n\to\infty}a_n=\pm\infty$, we must interpret the conclusion loosely; this case is handled in exercise 25. If $M\neq\pm\infty$, use $(\ast)$ to choose $(a_{n_k})$ satisfying $\absoluteValue{a_{n_k}-M}<1/k$, for example]. There is necessarily also a subsequence that converges to $\lim\inf_{n\to\infty}a_n$. Why?
\end{exercise}
\begin{proof}
As mentioned in the problem, if $M=\lim\sup_{n\to\infty}a_n=\pm\infty$, then we can use exercise 25 to conclude the subsequence exists. Hence, we assume $M\neq\infty$. We know by the characterisation of exercise 26 that for all $\varepsilon>0$, we have $a_n<M+\varepsilon$ for all but finitely many $n$ and $M-\varepsilon<a_n$ for infinitely many $n$. Following the hint, let $\varepsilon=1/k$ for all naturals and choose $n_k$ to be the lowest index so that $n_k>n_{k-1}$ of the infinite sets previous described. The implication is that, for all $\varepsilon>0$, we can find a $k$ such that $\absoluteValue{a_{n_k}-M}<\varepsilon$, giving us the desired result.
\end{proof}

\begin{exercise}{30}
If $a_n\leq b_n$ for all $n$, and if $(a_n)$ converges, show that $\lim_{n\to\infty}a_n\leq\lim\inf_{n\to\infty}b_n$.
\end{exercise}
\begin{proof}
We have that $(a_n)$ converges so that by the hypothesis, $\inf_{n\geq 1}\set{b_n,b_{n+1},\dots}$ exists for all $n$. Furthermore, we know that $\inf\set{a_n,a_{n+1},\dots}\leq\inf\set{b_n,b_{n+1},\dots}$ for all $n$, because $a_n\leq b_n$ for all $n$. Taking limits on both sides of the inequality, and using the order limit Theorem, we obtain $\lim_{n\to\infty}a_n=\lim\inf_{n\to\infty}a_n\leq\lim\inf_{n\to\infty}b_n$, where the first inequality follows from exercise 23.

If $\lim\inf_{n\to\infty}b_n=\infty$, then by exercise 25 we know that $(b_n)$ diverges, then for any $\lim_{n\to\infty}a_n=a\in\R$ we can find an $N$ so that $b_n\geq a$ for all $n\geq N$.
\end{proof}

\begin{exercise}{32}
Given a sequence $(a_n)$ of real numbers, let $\SSS$ be the set of all limits of convergent subsequences of $(a_n)$ (including, possibly, $\pm\infty$). For example, it follows from exercise 27 that $\lim\sup_{n\to\infty}a_n$ and $\lim\inf_{n\to\infty}a_n$ are both elements of $\SSS$. Show that, in fact, $\lim\sup_{n\to\infty}a_n= \sup\SSS$ and $\lim\inf_{n\to\infty}a_n= \inf\SSS$.
\end{exercise}
\begin{proof}
If $\lim\inf_{n\to\infty}a_n=-\infty$, then by exercise 25, there exists a subsequence of $a_n$ that diverges to $-\infty$, then, $-\infty\in\SSS$ and $\inf\SSS =-\infty$. Likewise, if $\lim\inf_{n\to\infty}a_n=\infty$ then by exercise 25, we know that $a_n$ diverges to $\infty$ so that all of its subsequences diverge to $\infty$ and hence $\inf\SSS =\infty$.

If $\lim\inf_{n\to\infty}a_n=a$, by exercise 27, we know there is a subsequence that converges to $a$. By definition, $a =\sup_{n\geq 1}\inf\set{a_n,a_{n+1},\dots}$. To prove that $a$ is $\inf\SSS$, suppose for the sake of contradiction, that it is not. Then there exists a subsequence of $a_n$, say $a_{k_n}$ so that $a'=\lim_{k\to\infty}a_{n_k}<a$. But then this implies $\inf\set{a_n,a_{n+1},\dots}>\inf\set{a_{n_k},a_{n_{k+1}},\dots}$, (since $\sup_{n\geq 1}(\inf\set{a_n,a_{n+1},\dots})\geq\inf\set{a_n,a_{n+1},\dots}$) which we know is false by exercise 3. 

We can reason in an analogous way to make the conclusions about $\lim\sup_{n\to\infty}a_n$. 
\end{proof}

\begin{exercise}{33}
Show that $(x_n)$ converges to $x\in\R$ if and only if every subsequence $(x_{n_k})$ of $(x_n)$ has a further subsequence $(x_{n_{k_l}})$ that converges to $x$.
\end{exercise}
\begin{proof}
($\Rightarrow$) We know that any subsequence of a convergent sequence converges to the same limit as the original sequence. If we apply this idea twice, we get the desired result.

($\Leftarrow$) We will prove this by contrapositive. Suppose there exists a subsequence $(x_{n_k})$ so that all its subsequences do not converge to $x$. Then there exists $\varepsilon>0$, so that for all $l$, $\absoluteValue{x_{n_{k_l}}-x}>\varepsilon$. However, for all $l$, $(x_{n_{k_l}})$ is in the sequence $x_n$, and hence for the chosen $\varepsilon$, we cannot find $N$, such that for all $n>N$, $\absoluteValue{x_n-x}<\varepsilon$ holds. Thus, $(x_n)$ does not converge to $x$, as desired.
\end{proof}

\begin{exercise}{36}
(The root test): Let $(a_n)\geq 0$.
\begin{enumerate}
    \item If $\lim\sup_{n\to\infty}\sqrt[n]{a_n}<1$, show that $\sum_{n=1}^\infty a_n<\infty$.
    \item If $\lim\inf_{n\to\infty}\sqrt[n]{a_n}>1$, show that $\sum_{n=1}^\infty a_n$ diverges.
    \item Find examples of both a convergent and a divergent series having $\lim_{n\to\infty}\sqrt[n]{a_n} = 1$.
\end{enumerate}
\end{exercise}
\begin{proof}
\begin{enumerate}
    \item Let $\lim\sup_{n\to\infty}\sqrt[n]{a_n}=M$, so that by the characterisation of exercise 26, $\sqrt[n]{a_n}<M+\varepsilon<1$ for $0<\varepsilon<1$ for all but finitely many $n$. Hence, $a_n<(M+\varepsilon)^n<1$ for all but finitely many $n$. Let $\mathcal{I}$ be the -finite- set containing the indices of $a_n$ that don't fulfill the condition.

    Let's consider the series associated with $a_n$:
    \[
    \sum_n^\infty a_n = \sum_{n\in\mathcal{I}}a_n + \sum_{n\notin\mathcal{I}}a_n \leq \sum_{n\in\mathcal{I}}a_n + \sum_{n=0}^\infty (M+\varepsilon)^n = \sum_{n\in\mathcal{I}}a_n + \sum_{n=0}^\infty r^n <\infty.
    \]
    We know that the last inequality holds because the first term is finite, and the second term is a geometric series. Thus, we obtained our desired result.
    \item Let $\lim\inf_{n\to\infty}\sqrt[n]{a_n}=m>1$. By the characterisation of exercise 26, we have that $\sqrt[n]{a_n}>m-\varepsilon>1$ for infinitely many $n$ and $m-1>\varepsilon$. Hence, $a_n>(m-\varepsilon)^n>1$ for all $n$. For the series associated with $a_n$, we have
    \[
    \sum_{n=1}^\infty a_n > \sum_{n=1}^\infty (m-\varepsilon)^n >\sum_{n=1}^\infty 1,
    \]
    which we know diverges, as required.
    \item Consider the sequence $a_n=1/n$ for all $n$. Then $\lim_{n\to\infty}\sqrt[n]{1/n}=1$, but $\sum_{n=1}^\infty a_n$ diverges. To get the opposite result consider $a_n'=1/n^2$, which also has $\lim_{n\to\infty}\sqrt[n]{1/n}=1$, but the series corresponding to this sequence converges.
\end{enumerate}
\end{proof}

\begin{exercise}{37}
If $(E_n)$ is a sequence of subsets of a fixed set $S$, we define
\[
\lim\sup_{n\to\infty}E_n=\bigcap_{n=1}^\infty\left(\bigcup_{k=n}^\infty E_k\right)
\,\text{and }\,
\lim\inf_{n\to\infty}E_n=\bigcup_{n=1}^\infty\left(\bigcap_{k=n}^\infty E_k\right).
\]
Show that 
\[
\lim\inf_{n\to\infty}E_n\subset\lim\sup_{n\to\infty}E_n
\,\text{and that }\,
\lim\inf_{n\to\infty}(E_n^c)= \left(\lim\sup_{n\to\infty}E_n\right)^c
\]
\end{exercise}
\begin{proof}
$\lim\inf_{n\to\infty}E_n\subset\lim\sup_{n\to\infty}E_n$: Suppose $x\in \lim\inf_{n\to\infty}E_n$, then for all $N$, $x$ belongs to all $E_k$ for $k>N$. By definition, $x\in\lim\sup_{n\to\infty}E_n$ if for all $N$, $x\in E_k$ for -at least one- $k>N$. Hence, $\lim\inf_{n\to\infty}E_n\subset\lim\sup_{n\to\infty}E_n$.

$\lim\inf_{n\to\infty}(E_n^c)= \left(\lim\sup_{n\to\infty}E_n\right)^c$:  We have
\begin{align*}
\left(\lim\sup_{n\to\infty}E_n\right)^c =& \left[\bigcap_{n=1}^\infty\left(\bigcup_{k=n}^\infty E_k\right)\right]^c\\
=& \bigcup_{n=1}^\infty\left(\bigcup_{k=n}^\infty E_k\right)^c\\
=& \bigcup_{n=1}^\infty\left(\bigcap_{k=n}^\infty E_k^c\right)\\
=& \lim\inf_{n\to\infty}(E_n^c),
\end{align*}
where we have used de Morgan's laws in the first two equalities.
\end{proof}
